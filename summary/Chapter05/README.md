# Chapter 05

비즈니스 규칙 엔진

## 도전과제

기술 팀과 비즈니스 팀이 함께 무언가를 만들 수 있는 비즈니스 규칙 엔진을 구현하자.

## 목표

- 테스트 주도 개발 기법으로 새로운 설계 문제를 풀어나가는 방법을 경험하기
- 유닛 테스트를 구현하는데 유용한 모킹(mocking 기법
- 지역 변수 형식 추론, switch문 등 자바 기능 살펴보기
- builder 패턴과 interface분리 원칙으로 사용자 친화적인 API 개발 방법을 배우자.

## 요구사항

- 프로그래머가 아닌 사람도 자신의 Workflow 에 비즈니스 로직을 추가하거나 바꿀 수 있다.
- 팩트 : 규칙이 확인할 수 있는 정보
- 액션 : 수행하려는 동작
- 조건 : 액션을 언제 발생시킬지 지정
- 규칙 : 실행하려는 비즈니스 규칙을 지정. 보통 팩트, 액션, 조건을 한 그룹으로 묶어 규칙으로 만듦

## 테스트 주도 개발

### TDD를 사용하는 이유

- 테스트를 따로 구현하므로 테스트에 대응하는 요구 사항을 한 개씩 구현할 때마다 필요한 요구 사항에 집중하고 개선할 수 있다.
- 코드를 올바르게 조직할 수 있다. 예를 들어 먼저 테스트를 구현하면서 코드에 어떤 공개 인터페이스를 만들어야 하는지 신중히 검토하게 된다.
- TDD 주기에 따라 요구 사항 구현을 반복하면서 종합적인 테스트 스위트를 완성할 수 있으므로 요구 사 항을 만족시켰다는 사실을 조금 더 확신할 수 있으며 버그 발생 범위도 줄일 수 있다.
- 테스트를 통과하기 위한 코드를 구현하기 때문에 필요하지 않은 테스트를 구현하는 일(오버엔지니어 링, over-engineering )을 줄일 수 있다.